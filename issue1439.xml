<?xml version='1.0' encoding='iso-8859-1' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd" [
  <!ENTITY nbsp "&#160;">
] >

<issue num="1439" status="Open">
<title>[FCD] Return from densities() functions?</title>
<section><sref ref="[rand.dist.samp.pconst]"/></section>
<submitter>ANSI</submitter>
<date>25 Aug 2010</date>

<discussion>
<p><b>Addresses US-134</b></p>

These two distributions have a member function called
<tt>densities()</tt> which returns a <tt>vector&lt;double&gt;</tt>. The
distribution is templated on <tt>RealType</tt>. The distribution
also has another member called <tt>intervals()</tt> which returns
a <tt>vector&lt;RealType&gt;</tt>. Why doesn't densities return
<tt>vector&lt;RealType&gt;</tt> as well? If <tt>RealType</tt> is <tt>long double</tt>,
the computed densities property isn't being computed to
the precision the client desires. If <tt>RealType</tt> is <tt>float</tt>, the
densities vector is taking up twice as much space as the client desires.

<note>
Resolution proposed by ballot comment:
</note>
<blockquote>
Change the piecewise constant and linear
distributions to hold / return the densities in a
<tt>vector&lt;result_type&gt;</tt>.
<p/>
If this is not done, at least correct <sref ref="[rand.dist.samp.pconst]"/> p. 13 which describes
the return of densities as a <tt>vector&lt;result_type&gt;</tt>.
</blockquote>

</discussion>

<resolution>
</resolution>

</issue>
