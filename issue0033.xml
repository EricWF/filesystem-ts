<?xml version='1.0' encoding='iso-8859-1' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd" [ 
  <!ENTITY nbsp "&#160;">
] >

<issue num="33" status="New">
<title>[PDTS] <tt>unique_path()</tt> is a security vulnerability</title>
<section><sref ref="15.38 [fs.op.unique_path]"/></section>
<submitter>CH-19</submitter>
<date>20 Jan 2014</date>

<discussion>
<p><tt>unique_path()</tt> is a security vulnerability. As the Linux manual page for the similar
function <tt>tmpnam()</tt> writes in the "BUGS" section: "Never use this function. Use <tt>mkstemp</tt>(3)
or <tt>tmpfile</tt>(3) instead." <tt>mkstemp()</tt> and <tt>tmpfile()</tt> avoid the inherent race condition of
<tt>unique_path()</tt> by returning an open file descriptor or <tt>FILE*</tt>.</p>
</discussion>

<resolution>
<p>Remove this function. Consider providing a function <tt>create_unique_directory()</tt>.
If it fits the scope of the proposed TS, consider providing functions
<tt>create_unique_file()</tt> that returns <tt>ifstream</tt>, <tt>ofstream</tt> and <tt>iofstream</tt>.</p>
</resolution>

</issue>
