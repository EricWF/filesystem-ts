<?xml version='1.0' encoding='iso-8859-1' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd" [
  <!ENTITY nbsp "&#160;">
] >

<issue num="1415" status="NAD Editorial">
<title>[FCD] iterator stability bans the short-string optimization</title>
<section><sref ref="[container.requirements.general]"/></section>
<submitter>INCITS</submitter>
<date>25 Aug 2010</date>

<discussion>
<p>
Requirements on iterators swapping allegiance would
disallow the small-string optimization.
</p>
<note>
Resolved in Rapperswil by paper N3108.
</note>

</discussion>

<resolution>
<p>
Add an exclusion for <tt>basic_string</tt> to the sentence
beginning &#8220;Every iterator referring to an
element...&#8221;. Add a sentence to 21.4.6.8/2 saying
that iterators and references to string elements
remain valid, but it is not specified whether they
refer to the same string or the other string.
</p>
</resolution>

</issue>
