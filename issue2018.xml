<?xml version='1.0' encoding='iso-8859-1' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd" [ 
  <!ENTITY nbsp "&#160;">
] >

<issue num="2018" status="New">
<title><tt>regex_traits::isctype</tt> Returns clause is wrong</title>
<section><sref ref="[re.traits]"/></section>
<submitter>Jonathan Wakely</submitter>
<date>16 Nov 2010</date>

<discussion>
<p><sref ref="[re.traits]"/> p. 12 says:</p>

<blockquote><p>
returns true if <tt>f</tt> bitwise or&apos;ed with the result of calling
<tt>lookup_classname</tt> with an iterator pair that designates the character
sequence &quot;w&quot; is not equal to <tt>0</tt> and <tt>c == '_'</tt>
</p></blockquote>

<p>
If the bitmask value corresponding to &quot;w&quot; has a non-zero value (which
it must do) then the bitwise or with any value is also non-zero, and
so <tt>isctype('_', f)</tt> returns true for any <tt>f</tt>. Obviously this is wrong,
since <tt>'_'</tt> is not in every <tt>ctype</tt> category.
</p>

<p>
There&apos;s a similar problem with the following phrases discussing the
&quot;blank&quot; char class.
</p>
</discussion>

<resolution>
<p>Replace the Returns clause with a description in terms of <tt>ctype</tt>
categories, rather than pseudocode in terms of bitwise operations.
(full replacement wording to follow)
</p>
</resolution>

</issue>
