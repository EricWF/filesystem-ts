<?xml version='1.0' encoding='iso-8859-1' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd" [
  <!ENTITY nbsp "&#160;">
] >

<issue num="1487" status="Open">
<title>[FCD] Clock related operations exception specifications conflict</title>
<section><sref ref="[thread.thread.this]"/></section>
<submitter>Switzerland</submitter>
<date>25 Aug 2010</date>

<discussion>
<p><b>Addresses CH-25</b></p>

Clock related operations are currently not required not to
throw. So "Throws: Nothing." is not always true.

<note>
Resolution proposed by ballot comment:
</note>
<blockquote>
Either require clock related operations not to throw
(in 20.10) or change the Throws clauses in 30.3.2.
Also possibly add a note that <tt>abs_time</tt> in the past
or negative <tt>rel_time</tt> is allowed.
</blockquote>

<note>2011-02-10: Howard Hinnant provides a resolution proposal</note>

</discussion>

<resolution>

<ol>
<li>
<p>Change the Operational semantics of <tt>C1::now()</tt> in <sref ref="[time.clock.req]"/>, 
Table 59 &mdash; <tt>Clock</tt> requirements as follows:
</p>

<blockquote>
<table border="1">
<caption>Table 59 &mdash; <tt>Clock</tt> requirements</caption>
<tr>
<th>
Expression
</th>

<th>
Return type
</th>

<th>
Operational semantics
</th>

</tr>

<tr>
<td><tt>C1::now()</tt></td>

<td><tt>C1::time_point</tt></td>

<td>Returns a <tt>time_point</tt> object<br/>
representing the current point in time.<br/>
<ins>Shall not throw an exception.</ins></td>
</tr>

</table>
</blockquote>


</li>
</ol>

</resolution>

</issue>
